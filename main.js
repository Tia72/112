prediction = "";

Webcam.set({
    width:350,
    height:350,
    image_format:'png',
    png_quality:90
});

cam = document.getElementById("cam");

Webcam.attach('#cam');

function take_snap(){
    Webcam.snap(function(data_uri){
        document.getElementById("dp").innerHTML = '<img id="snap" src="' + data_uri + '">';
    });
}

console.log('ml5 version:' , ml5.version);

classifier = ml5.imageClassifier('https://teachablemachine.withgoogle.com/models/M_yDt4Qxm/model.json',modelLoaded);

function modelLoaded(){
    console.log('Model Loaded');
}

function speak(){
    var synth = window.speechSynthesis;
    sd = "The predicition is" + prediction;
    var utterThis = new SpeechSynthesisUtterance(sd);
    synth.speak(utterThis);
}

function check(){
    image_result = document.getElementById("snap");
    classifier.classify(image_result, got_result)
}

function got_result(error, results){
    if (error) {
        console.error(error);
    } 

    else {
        console.log(results);

        prediction = results[0].label;

        document.getElementById("en1").innerHTML = prediction;

        speak();

        if (prediction == "peace") {
            document.getElementById("e1").innerHTML = "‚úåüèª";
        }

        if (prediction == "nice") {
            document.getElementById("e1").innerHTML = "üëåüèª";
        }

        if (prediction == "good") {
            document.getElementById("e1").innerHTML = "üëçüèª";
        }
    }
}






































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       